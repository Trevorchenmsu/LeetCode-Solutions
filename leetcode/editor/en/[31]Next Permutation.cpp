//Implement next permutation, which rearranges numbers into the lexicographicall
//y next greater permutation of numbers. 
//
// If such an arrangement is not possible, it must rearrange it as the lowest po
//ssible order (i.e., sorted in ascending order). 
//
// The replacement must be in place and use only constant extra memory. 
//
// 
// Example 1: 
// Input: nums = [1,2,3]
//Output: [1,3,2]
// Example 2: 
// Input: nums = [3,2,1]
//Output: [1,2,3]
// Example 3: 
// Input: nums = [1,1,5]
//Output: [1,5,1]
// Example 4: 
// Input: nums = [1]
//Output: [1]
// 
// 
// Constraints: 
//
// 
// 1 <= nums.length <= 100 
// 0 <= nums[i] <= 100 
// 
// Related Topics Array Two Pointers 
// ğŸ‘ 6669 ğŸ‘ 2199


//leetcode submit region begin(Prohibit modification and deletion)
/*
 * solution: math, implementation
 * time: O(n)
 * space: O(1)
 * */
class Solution {
public:
    void nextPermutation(vector<int>& nums) {
        if (nums.empty() || nums.size() == 0) {
            return;
        }

        /*
         * å½“è€ƒè™‘æ•°ç»„çš„ä»»æ„é•¿åº¦å³éƒ¨æ—¶ï¼Œä»å°¾åˆ°å¤´éå†è¿™éƒ¨åˆ†æ—¶ï¼Œåªèƒ½æ˜¯é€æ¸é€’å¢æˆ–è€…é€æ¸é€’å‡ï¼ˆç›¸ç­‰çš„æƒ…å†µå¯å¿½ç•¥ï¼‰ã€‚
         * ï¼ˆ1ï¼‰å¦‚æœä»å³åˆ°å·¦æ˜¯é€’å‡çš„æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€è¦äº¤æ¢æœ€åä¸¤ä¸ªå…ƒç´ ï¼Œä¾‹å¦‚[1,2,3,4,5]ï¼Œåªèƒ½äº¤æ¢4å’Œ5å˜æˆ[1,2,3,5,4]ã€‚
         * å› ä¸ºäº¤æ¢å…¶ä»–å…ƒç´ éƒ½ä¼šäº§ç”Ÿæ›´å¤§çš„æ’åˆ—ï¼Œæ‰€ä»¥ä¸æ˜¯ä¸‹ä¸€ä¸ªç›¸é‚»çš„å…¨æ’åˆ—ã€‚ä»è¿™å¯ä»¥è§‚å¯Ÿå‡ºï¼Œä»å³åˆ°å·¦éå†æ—¶ï¼Œ
         * æˆ‘ä»¬æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªä¸‹é™çš„å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œä½†æ˜¯è¿™é‡Œçš„è§„å¾‹è¿˜ä¸å¤Ÿæ˜æ˜¾ã€‚
         * ï¼ˆ2ï¼‰å¦‚æœä»å³åˆ°å·¦æ—¶é€’å‡çš„æƒ…å†µï¼Œä¾‹å¦‚[1,2,5,4,3]ï¼Œæˆ‘ä»¬è¦æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸‹é™çš„å…ƒç´ ï¼Œå³2ã€‚ä¸ºä»€ä¹ˆè¦æ‰¾ä¸‹é™ç‚¹ï¼Ÿ
         * å› ä¸ºæˆ‘ä»¬æƒ³æ‰¾ä¸‹ä¸€ä¸ªç›¸é‚»çš„æ›´å¤§çš„æ’åˆ—ï¼Œæ­£å¸¸æ€è·¯è‚¯å®šæ˜¯ä¼˜å…ˆäº¤æ¢æœ«ç«¯çš„æŸäº›å…ƒç´ æ¥äº§ç”Ÿä¸€ä¸ªæ›´å¤§çš„æ•°ï¼Œå¦‚æœè€ƒè™‘å·¦ç«¯ï¼Œå°½ç®¡èƒ½å¤Ÿ
         * äº§ç”Ÿæ›´å¤§çš„æ’åˆ—ï¼Œä½†æ˜¯è‚¯å®šä¸æ˜¯ç›¸é‚»çš„ã€‚è€ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ªé¡¶å³°åä¸‹é™çš„ç‚¹ï¼Œé¦–å…ˆå¯ä»¥ä¿è¯è¿™ä¸¤ä¸ªç›¸é‚»ç‚¹ä¸€å®šå¯ä»¥äº¤æ¢å¾—åˆ°æ›´å¤§çš„æ•°ã€‚å…¶æ¬¡
         * æˆ‘ä»¬åœ¨é¡¶å³°æ›´é å³çš„ä½ç½®æ‰¾å‡ºæ¯”é¡¶å³°å°ä½†æ¯”ä¸‹é™ç‚¹å¤§çš„æ•°æ¥å’Œä¸‹é™ç‚¹æ›´æ¢ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„ç‚¹ï¼Œå°±æ‹¿é¡¶å³°æ¥äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°ï¼ˆ1ï¼‰ä¸­çš„æƒ…å†µã€‚é‚£ä¹ˆï¼Œ
         * æ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯å¦‚ä½•æ‰¾å‡ºä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼ŒåŒæ—¶è¿˜å¾—æ˜¯ç›¸é‚»çš„æ’åˆ—ã€‚æŒ‰ç…§ä¸Šè¿°ï¼Œæˆ‘ä»¬åªéœ€è¦ä»å³åˆ°å·¦ï¼ˆä¸å°äºå·²ç»åˆ°çš„ä¸‹é™ç‚¹ï¼‰ï¼Œæ‰¾
         * åˆ°ç¬¬ä¸€ä¸ªå¤§äºä¸‹é™ç‚¹çš„è¿›è¡Œäº¤æ¢å³å¯ã€‚ä½†æ˜¯è¿™ä¸ªäº¤æ¢åä»ç„¶ä¸ä¸€å®šæ˜¯ç›¸é‚»çš„æ’åˆ—ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸‹é™ç‚¹åé¢çš„ä¸€éƒ¨åˆ†è¿›è¡Œreverseã€‚
         * å› ä¸ºæˆ‘ä»¬ä¹‹å‰æŸ¥æ‰¾çš„æ˜¯ä»å³åˆ°å·¦çš„ä¸Šå‡æ•°æ®ï¼Œå½“ä¸‹é™ç‚¹æ¢åˆ°ä¸€ä¸ªå¤§æ•°åï¼Œåé¢ä¸€æ®µçš„æ•°æ®å°†é€’å¢æ”¹ä¸ºé€’å‡ï¼Œå°±å¯ä»¥å¾—åˆ°æœ€ç›¸é‚»çš„æ›´å¤§æ’åˆ—ã€‚
         * ä¾‹å¦‚ï¼Œä¸Šè¿°ä¾‹å­äº¤æ¢åå¾—åˆ°[1,3,5,4,2]ï¼Œå†reverseä¸€ä¸‹[1,3,2,4,5]ï¼Œ13245æ˜æ˜¾å¤§äº12543ï¼Œä¸”æœ€ç›¸é‚»çš„ä¸‹ä¸€ä¸ªæ’åˆ—ã€‚
         * */

        /*
         * æ ¸å¿ƒæ€æƒ³ï¼š
         * ï¼ˆ1ï¼‰æ‰¾ä¸‹é™ç‚¹ï¼›
         * ï¼ˆ2ï¼‰æ‰¾ä¸åˆ°ä¸‹é™ç‚¹å°±è¿”å›å‡åºæ’åºï¼›
         * ï¼ˆ3ï¼‰æ‰¾åˆ°ä¸‹é™ç‚¹ååœ¨å³æ®µæ‰¾æ¯”ç¬¬ä¸€ä¸ªæ¯”ä¸‹é™ç‚¹å¤§çš„æ•°ï¼Œç„¶åäº¤æ¢ï¼›
         * ï¼ˆ4ï¼‰äº¤æ¢åï¼Œå¯¹ä¸‹é™ç‚¹çš„å³æ®µè¿›è¡Œç¿»è½¬ã€‚å› ä¸ºä¹‹å‰ä»å³åˆ°å·¦æ˜¯å‡åºçš„ï¼Œç¿»è½¬åä»å³åˆ°å·¦ä¸ºé™åºï¼Œæ’åˆ—æ›´å°ã€‚
         * */
        int i = nums.size() - 1;
        while (i >= 1 && nums[i] <= nums[i - 1]) {
            i--;
        }

        // å¦‚æœæ•°æ®æ˜¯ä»å·¦åˆ°å³é€’å‡ï¼Œè¡¨ç¤ºæ’åˆ—å·²ç»è¾¾åˆ°æœ€å¤§å€¼ï¼Œç›´æ¥reverseè¿”å›æœ€å°æ’åˆ—å³å¯
        if (i == 0) {
            reverse(nums.begin(), nums.end());
            return;
        }

        // å› ä¸ºä¸Šè¿°å¾ªç¯çš„ç»ˆæ­¢ä½ç½®æ˜¯åœ¨é¡¶å³°ï¼Œæ‰€ä»¥éœ€è¦iè‡ªå‡åˆ°ä¸‹é™ç‚¹
        i--;

        // ä»å³éƒ¨ç»§ç»­æŸ¥æ‰¾å¦ä¸€ä¸ªæ¯”ä¸‹é™ç‚¹æ›´å¤§çš„ç¬¬ä¸€ä¸ªæ•°
        int j = nums.size() - 1;
        while (j >= i && nums[i] >= nums[j]) {
            j--;
        }

        // äº¤æ¢ä¸¤ä¸ªæ•°ï¼Œreverseåå¾—åˆ°æœ€ç›¸é‚»çš„æ’åˆ—
        swap(nums[j], nums[i]);
        reverse(nums.begin() + i + 1, nums.end());
    }
};
//leetcode submit region end(Prohibit modification and deletion)
